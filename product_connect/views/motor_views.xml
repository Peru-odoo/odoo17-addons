<odoo>
    <!-- Tree View -->
    <record id="view_motor_tree" model="ir.ui.view">
        <field name="name">motor.tree</field>
        <field name="model">motor</field>
        <field name="arch" type="xml">
            <tree string="Motors List">
                <field name="motor_number" string="Motor"/>
                <field name="technician" optional="hide"/>
                <field name="create_date" optional="show"/>
                <field name="manufacturer" string="Manu"/>
                <field name="horsepower"/>
                <field name="model"/>
                <field name="serial_number" string="Serial"/>
                <field name="year"/>
                <field name="color"/>
                <field name="cost" widget="float_factor"/>
            </tree>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_motor_form" model="ir.ui.view">
        <field name="name">motor.form</field>
        <field name="model">motor</field>
        <field name="arch" type="xml">
            <form string="Motor Check-In" js_class="motor_form">
                <header>
                    <button name="print_motor_labels" type="object" class="btn btn-primary btn-lg">
                        <i class="fa fa-print"/>&#160;Print Motor Labels
                    </button>
                </header>
                <field name="stage" invisible="1"/>
                <sheet>
                    <notebook>
                        <page id="basic_info" string="Basic Info">
                            <group>
                                <field name="motor_number" readonly="1"/>
                                <field name="technician" widget="resettable_selection_badge" required="1"/>
                                <field name="manufacturer" widget="resettable_selection_badge" required="1"/>
                                <field name="horsepower"/>
                                <field name="stroke" required="1" widget="resettable_selection_badge"/>
                                <field name="configuration" required="1" widget="resettable_selection_badge"/>
                                <field name="model"/>
                                <field name="serial_number"/>
                                <field name="year" widget="resettable_selection_badge"/>
                                <field name="color" widget="resettable_selection_badge" required="1"/>
                                <field name="cost"/>
                                <field name="is_tag_readable" widget="resettable_selection_badge"/>
                                <field name="notes"/>
                            </group>
                        </page>
                        <page string="Images"
                              invisible="stage not in ['images', 'parts', 'basic_testing', 'extended_testing', 'finalization']">
                            <field name="images" class="motor_image_adder">
                                <tree editable="bottom" delete="False">
                                    <field name="name"/>
                                    <field name="image_256" widget="image" column_invisible="1"/>
                                    <field name="image_1920" widget="image_upload"/>
                                </tree>
                            </field>
                        </page>

                        <page string="Missing Parts"
                              invisible="stage not in ['parts', 'basic_testing', 'extended_testing', 'finalization']">
                            <field name="parts">
                                <tree editable="bottom" create="False" delete="False" open_form_view="0">
                                    <field name="is_missing" widget="boolean_toggle"
                                           class="large-toggle o_motor_part_missing_column"/>
                                    <field name="name" class="sc_full_width"/>
                                    <field name="template" column_invisible="1"/>
                                    <field name="hidden_tests" column_invisible="1"/>
                                </tree>
                            </field>
                            <group>
                                <field name="notes"/>
                            </group>
                        </page>
                        <page id="basic_testing" string="Basic Testing"
                              invisible="stage not in ['basic_testing', 'extended_testing', 'finalization']">
                            <field name="basic_tests" widget="motor_test_widget">
                                <tree>
                                    <field name="id"/>
                                    <field name="name"/>
                                    <field name="result_type"/>
                                    <field name="section"/>
                                    <field name="sequence"/>
                                    <field name="section_sequence"/>
                                    <field name="template"/>
                                    <field name="yes_no_result"/>
                                    <field name="selection_options" widget="many2many_tags"/>
                                    <field name="selection_result"/>
                                    <field name="numeric_result"/>
                                    <field name="text_result"/>
                                    <field name="file_result"/>
                                    <field name="default_value"/>
                                    <field name="conditions"/>
                                    <field name="conditional_tests"/>
                                </tree>
                            </field>
                            <group>
                                <field name="notes"/>
                            </group>
                        </page>
                        <page string="Compression Testing"
                              invisible="hide_compression_page or stage not in ['basic_testing', 'extended_testing', 'finalization']">
                            <field name="compression">
                                <tree editable="bottom" delete="False" create="False">
                                    <field name="cylinder_number" readonly="1"/>
                                    <field name="compression_psi" string="PSI"/>
                                    <field name="compression_image" string="Image" widget="binary"/>
                                </tree>
                            </field>
                            <field name="hide_compression_page" invisible="1"/>
                        </page>
                        <page id="extended_testing" string="Extended Testing"
                              invisible="stage not in ['extended_testing', 'finalization']">
                            <field name="extended_tests" widget="motor_test_widget">
                                <tree>
                                    <field name="id"/>
                                    <field name="name"/>
                                    <field name="result_type"/>
                                    <field name="section"/>
                                    <field name="sequence"/>
                                    <field name="section_sequence"/>
                                    <field name="template"/>
                                    <field name="yes_no_result"/>
                                    <field name="selection_options" widget="many2many_tags"/>
                                    <field name="selection_result"/>
                                    <field name="numeric_result"/>
                                    <field name="text_result"/>
                                    <field name="file_result"/>
                                    <field name="default_value"/>
                                    <field name="conditions"/>
                                    <field name="conditional_tests"/>
                                </tree>
                            </field>
                            <group>
                                <field name="notes"/>
                            </group>
                        </page>

                        <!-- Summary page-->
                        <page string="Summary" invisible="stage != 'finalization'">
                            <group string="Basic Info">
                                <field name="motor_number" readonly="1"/>
                                <field name="manufacturer" readonly="1"/>
                                <field name="horsepower" readonly="1"/>
                                <field name="stroke" readonly="1"/>
                                <field name="configuration" readonly="1"/>
                                <field name="model" readonly="1"/>
                                <field name="serial_number" readonly="1"/>
                                <field name="year" readonly="1"/>
                                <field name="color" readonly="1"/>
                                <field name="cost" readonly="1"/>
                                <field name="is_tag_readable" readonly="1"/>
                            </group>
                            <group string="Images">
                                <field name="images" string="" mode="tree" readonly="1">
                                    <tree>
                                        <field name="name"/>
                                        <field name="image_128" widget="image" options="{'size': [128, 0]}"
                                               readonly="1"/>
                                    </tree>
                                </field>
                            </group>

                            <group string="Missing Parts">
                                <field name="parts" mode="tree" readonly="1">
                                    <tree>
                                        <field name="is_missing"/>
                                        <field name="name"/>
                                    </tree>
                                </field>
                            </group>

                            <group string="Compression Testing">
                                <field name="compression" mode="tree" readonly="1">
                                    <tree>
                                        <field name="cylinder_number"/>
                                        <field name="compression_psi"/>
                                    </tree>
                                </field>
                            </group>

                            <group string="Basic Testing">
                                <field name="basic_tests" mode="tree" readonly="1">
                                    <tree>
                                        <field name="name"/>
                                        <field name="result_type"/>
                                        <field name="yes_no_result"/>
                                        <field name="selection_result"/>
                                        <field name="numeric_result"/>
                                        <field name="text_result"/>
                                        <field name="file_result" widget="binary"/>
                                    </tree>
                                </field>
                            </group>

                            <group string="Extended Testing">
                                <field name="extended_tests" mode="tree" readonly="1">
                                    <tree>
                                        <field name="name"/>
                                        <field name="result_type"/>
                                        <field name="yes_no_result"/>
                                        <field name="selection_result"/>
                                        <field name="numeric_result"/>
                                        <field name="text_result"/>
                                        <field name="file_result" widget="binary"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <page string="Products" invisible="stage != 'finalization'">
                            <field name="products">
                                <tree editable="bottom" open_form_view="1">
                                    <field name="is_listable" widget="boolean_toggle"/>
                                    <field name="default_code"/>
                                    <field name="computed_name"/>
                                    <field name="name" width="20px"/>
                                    <field name="mpn" width="20px"/>
                                    <field name="product_type" width="20px"/>
                                    <field name="quantity"/>
                                    <field name="bin" width="20px"/>
                                    <field name="weight"/>
                                    <field name="price"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Finalization" invisible="stage != 'finalization'">
                            <!-- Add fields relevant for the finalization stage here -->
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_motor_product_tree" model="ir.ui.view">
        <field name="name">motor.product.tree</field>
        <field name="model">motor.product</field>
        <field name="arch" type="xml">
            <tree string="Motor Products" default_group_by="motor">
                <field name="computed_name"/>
                <field name="mpn"/>
                <field name="name"/>
                <field name="bin"/>
                <field name="price"/>
                <field name="template"/>
                <field name="product_type"/>
                <field name="default_code"/>
                <field name="quantity"/>
                <field name="weight"/>
                <field name="sequence"/>
                <field name="is_listable"/>
            </tree>
        </field>
    </record>

    <record id="view_motor_product_form" model="ir.ui.view">
        <field name="name">motor.product.form</field>
        <field name="model">motor.product</field>
        <field name="arch" type="xml">
            <form string="Motor Product">
                <sheet>
                    <notebook>
                        <page string="Details">
                            <group>
                                <group>
                                    <field name="motor"/>
                                    <field name="computed_name"/>
                                    <field name="mpn"/>
                                    <field name="name"/>
                                    <field name="bin"/>
                                    <field name="price"/>
                                </group>
                                <group>
                                    <field name="template"/>
                                    <field name="product_type"/>
                                    <field name="default_code"/>
                                    <field name="quantity"/>
                                    <field name="weight"/>
                                    <field name="sequence"/>
                                </group>
                                <group>
                                    <field name="is_listable"/>
                                </group>
                            </group>
                        </page>
                        <page string="Images">
                            <field name="images">
                                <tree editable="bottom" delete="False">
                                    <field name="name"/>
                                    <field name="image_256" widget="image" column_invisible="1"/>
                                    <field name="image_1920" widget="image_upload"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_motor_kanban" model="ir.ui.view">
        <field name="name">motor.kanban</field>
        <field name="model">motor</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_small_column" style="padding: 5px; box-shadow: 2px 2px 10px rgba(0,0,0,0.1);">
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click" style="overflow: hidden;">
                            <!-- Image display -->
                            <t t-if="record.icon.raw_value">
                                <field name="icon" invisible="1"/>
                                <div class="o_kanban_image"
                                     style="float: left; margin-right: 10px;">
                                    <img t-att-src="kanban_image('motor', 'icon', record.id.raw_value)"
                                         style="border-radius: 5px; max-width: none;" alt="Motor Image"/>
                                </div>
                            </t>
                            <!-- Motor details -->
                            <div style="float: left; width: 45%; vertical-align: top;">
                                <div style="margin-bottom: 5px;">
                                    <field name="motor_number"/>
                                </div>
                                <div style="margin-bottom: 5px;">
                                    <field name="manufacturer"/>
                                </div>
                                <div style="margin-bottom: 5px;">
                                    <strong>Model: </strong>
                                    <field name="model"/>
                                </div>
                                <div style="margin-bottom: 5px; white-space: nowrap">
                                    <strong>HP: </strong>
                                    <field name="horsepower_formatted"/>
                                </div>
                                <div style="white-space: nowrap;">
                                    <strong>Serial: </strong>
                                    <field name="serial_number"/>
                                </div>
                            </div>
                            <div style="clear: both;"></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>


    <!-- Action -->
    <record model="ir.actions.act_window" id="action_motor_form">
        <field name="name">Motors</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">motor</field>
        <field name="view_mode">tree,kanban,form</field>
    </record>

    <record model="ir.actions.act_window" id="action_motor_product_form">
        <field name="name">Motor Products</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">motor.product</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="server_action_motor_print_labels" model="ir.actions.server">
        <field name="name">Print Motor Labels</field>
        <field name="model_id" ref="model_motor"/>
        <field name="binding_model_id" ref="model_motor"/>
        <field name="binding_type">action</field>
        <field name="state">code</field>
        <field name="code">
            action = records.print_motor_labels()
        </field>
    </record>

    <!-- Menu -->
    <menuitem id="menu_subheader_motor" name="Motors" parent="stock.menu_stock_inventory_control"/>
    <menuitem id="menu_subheader_config_motor" name="Motors" parent="stock.menu_stock_config_settings"/>
    <menuitem id="menu_motor" name="Motor Check-in" parent="menu_subheader_motor" action="action_motor_form"
              sequence="10"/>
    <menuitem id="menu_motor_product" name="Motor Products" parent="menu_subheader_motor"
              action="action_motor_product_form" sequence="20"/>

</odoo>